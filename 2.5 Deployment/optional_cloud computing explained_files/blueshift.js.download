!function(){if("39a57c807f642ba0c2b04cce99ea9d77"!==_blueshiftid){var t,o=("https:"===document.location.protocol?"https:":"http:")+"//api.getblueshift.com/",c=o+"unity.gif",n=o+"cookiejar.json",r=!1,u=!1,f="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,d={},l={eventApiKey:void 0,userParams:{},slots:[],slotParams:{},tz:(new Date).getTimezoneOffset()};if("object"==typeof blueshift){var e=void 0===blueshift.slice?[]:blueshift.slice(0);for(blueshift={events:[],load:function(){x()},retarget:function(){k(["retarget"])},facebook:function(){k(["facebook"])},track:function(e,t){k(["track",e,t])},pageload:function(e){k(["pageload",e])},identify:function(e){k(["identify",e])},live:function(e){k(["live",e])}},i=0;i<e.length;i++)blueshift.events.push(e[i])}if(document.addEventListener)var h=function(e,t,n){e.addEventListener(t,n,!1)};else h=function(e,t,n){e.attachEvent("on"+t,n)};for(var i=0;i<blueshift.events.length;i++)k(blueshift.events[i]);"complete"===document.readyState?x():window.addEventListener?window.addEventListener("load",x,!1):window.attachEvent&&window.attachEvent("onload",x)}function a(e,t){t.tz=l.tz;var n={x:l.eventApiKey,slot:e,user:l.userParams,context:t};return"true"==function(e){var t=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}("dev")&&(n.dev=!0),JSON.stringify(n)}function s(e,t,n,o){var r=document.createElement("iframe");e.innerHTML="",e.appendChild(r),r.src="''",r.style.width=t,r.style.height=n,r.style.border="none",r.contentWindow.document.open(),r.contentWindow.document.write(o),r.contentWindow.document.close(),e.style.width=t,e.style.height=n,e.style.display="block"}function p(e){!function(){l.slots=[];for(var e=document.querySelectorAll("[data-bsft-slot]"),t=0;t<e.length;t++)l.slots.push({name:e[t].dataset.bsftSlot,el:e[t]})}(),l.slotParams=e||{},function(){for(var n=[],e=0;e<l.slots.length;e++)!function(t){n[t]=m(),n[t].open("POST",o+"live",!0),n[t].setRequestHeader("Content-Type","application/json"),n[t].onreadystatechange=function(){if(4===n[t].readyState&&200==n[t].status){try{var e=JSON.parse(n[t].responseText)}catch(e){console.log("error loading slot",e)}e&&e.show&&s(l.slots[t].el,e.width,e.height,e.content)}},n[t].send(a(l.slots[t].name,l.slotParams[l.slots[t].name]||{}))}(e)}()}function w(e){try{if(null!=b("_bs_fb_pushed"))return;request=n+"?x="+window._blueshiftid+"&k="+e;var t=m();t.open("GET",request,!0),t.onreadystatechange=function(){4==t.readyState&&200==t.status&&function(e){if(function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e))return;window._fbq=window._fbq||[],window._fbq.push(["track","user_attributes",e]),y("_bs_fb_pushed","1",1)}(JSON.parse(t.responseText))},t.send(request)}catch(e){}}function m(){if(window.XMLHttpRequest)try{var t=new XMLHttpRequest}catch(e){t=new window.ActiveXObject("Microsoft.XMLHTTP")}return t}function y(e,t,n){var o=new Date;o.setDate(o.getDate()+n);var r=window.location.hostname,i=r.split(".");4==i.length&&0<=i[0]&&i[0]<=255&&0<=i[1]&&i[1]<=255&&0<=i[2]&&i[2]<=255&&0<=i[3]&&i[3]<=255||(r="."+r.replace(/^www./,""));var a=escape(t)+(null==n?"":";expires="+o.toUTCString())+";path=/;domain="+r;document.cookie=e+"="+a}function b(e){var t,n,o,r=document.cookie.split(";");for(t=0;t<r.length;t++)if(n=r[t].substr(0,r[t].indexOf("=")),o=r[t].substr(r[t].indexOf("=")+1),(n=n.replace(/^\s+|\s+$/g,""))==e)return unescape(o)}function g(e){var t=e[0],n=function(){var t="";try{t=window.top.document.referrer}catch(e){if(window.parent)try{t=window.parent.document.referrer}catch(e){t=""}}return""===t&&(t=document.referrer),t}(),o=Math.floor(1e6*Math.random()+1),r=Math.round(new Date/1e3),i=b("_bs");if("object"==typeof analytics&&"function"==typeof analytics.user&&!function(e){var t=btoa(e);return"YmU3MGIwNGVkMzUyZDAzYjA5NDc5NmJjNWZjZTdiMDU="===t||"MWM2ZGEyNGExOGM1MjQyNTNlZTExNmU0YzUzOTNjZWY="===t}(_blueshiftid)){var a=analytics.user().anonymousId();i!=a&&y("_bs",a,365),i=a}if(null==i&&y("_bs",i=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}(),365),"config"==t&&e[1])return(d=e[1]).trackClicks&&h(document,"click",function(e){e=e||window.event,element=e.target||e.srcElement,element.href&&k(["click",{p:function(e){for(var t=[];null!=e.parentNode;){for(var n=0,o=0,r=0;r<e.parentNode.childNodes.length;r++){var i=e.parentNode.childNodes[r];i.nodeName==e.nodeName&&(i===e&&(o=n),n++)}""!=e.id?t.unshift(e.nodeName.toLowerCase()+"#"+e.id):1<n?t.unshift(e.nodeName.toLowerCase()+"["+o+"]"):t.unshift(e.nodeName.toLowerCase()),e=e.parentNode}return t}(element).toString(),c:element.href,a:element.innerHTML}])}),!0;if("identify"==t&&(l.userParams=e[1]||{},l.userParams.cookie=i),"track"==t)t=e[1],e=e[2];else{if("retarget"==t)return!0;if("facebook"==t)return u=!0;e=e[1]}for(var s in req=c+"?t="+r+"&e="+t+"&r="+encodeURIComponent(n)+"&z="+o+"&x="+window._blueshiftid+"&k="+i+"&u="+encodeURIComponent(window.location.href),e)v=e[s],"object"==typeof v?req+="&"+s+"_json="+encodeURIComponent(JSON.stringify(v)):req+="&"+s+"="+encodeURIComponent(v);return f?d.usePOST?(null==e&&(e={}),e.t=r,e.e=t,e.r=n,e.z=o,e.x=window._blueshiftid,e.k=i,e.u=window.location.href,function(e,t){try{xhr=m(),xhr.open("POST",e,!0),xhr.setRequestHeader("Content-Type","application/json"),xhr.send(JSON.stringify(t))}catch(e){}}(c,e)):function(e){try{xhr=m(),xhr.open("GET",e,!0),xhr.send(e)}catch(e){}}(req):function(e){new Image(1,1).src=e}(req),1==u&&"pageload"==t&&w(i),!0}function N(e,t){setTimeout(function(){k(e)},t)}function k(e){if(null!=e[0])if(r)if("identify"!==e[0]&&"config"!==e[0])if(l.userParams.cookie||1e3<new Date-t)switch(e[0]){case"live":p(e[1]);break;default:g(e)}else N(e,20);else g(e);else N(e,20)}function x(){r=!0,t=new Date,l.eventApiKey=_blueshiftid}}();